
<script type="text/html" data-template-name="mnodehttp-config">
    <div class="form-row">
        <label for="node-config-input-iname">Name of the instance</label>
        <input type="text" id="node-config-input-iname">
    </div>
    <div class="form-row">
        <label for="node-config-input-host">Http bind to ip : port</label>
        <input type="text" id="node-config-input-host" style="width:30%"> : 
        <input type="text" id="node-config-input-port" style="width:10%">
    </div>
    <div class="form-row">
        <label for="node-config-input-wshost">WebSocket bind to ip : port</label>
        <input type="text" id="node-config-input-wshost" style="width:30%"> :
        <input type="text" id="node-config-input-wsport" style="width:10%">
    </div>
    <div class="form-row">
        <label for="node-config-input-pathtoyss">Path to yss</label>
        <input type="text" id="node-config-input-pathtoyss"><br>
        <small>live blank so will use node-yss</small>
    </div>
    <div class="form-row">
        <label for="node-config-input-pathstosites">Paths to sites directories</label>
        <input type="text" id="node-config-input-pathstosites"><br>
        <small>live blank so will use node-yss. Separator is ","</small>
    </div>
    <div class="form-row">
        <label for="node-config-input-ysswsurl">WS visible at</label>
        <input type="text" id="node-config-input-ysswsurl">
    </div>
</script>

<script type="text/html" data-help-name="mnodehttp-config">
    is help
</script>

<script type="text/javascript">
    RED.nodes.registerType('mnodehttp-config',{
        category: 'config',
        defaults: {
            iname: {value:""},
            host: {value:"localhost",required:true},
            port: {value:8083,required:true},
            wshost: {value:"localhost",required:true},
            wsport: {value:3999,required:true},
            pathstosites: {value:""},
            pathtoyss: {value:""},
            ysswsurl: {value:"ws://localhost:3999/", required:true}
        },
        label: function() {
            return this.iname+' '+this.host+":"+this.port;
        },
        getOnlyIname: function(){
            return this.iname||'not set';
        }

    });
</script>


<script type="text/javascript">
    RED.nodes.registerType('mnodehttp-instance',{
        category: 'ot',
        defaults: {
            name: { value:"" },
            server: { 
                //value:""//
                type:"mnodehttp-config" 
            }
        },
        icon: "nrc-mnodehttp_32_32.png",
        inputs: 1,
        outputs: 1,
        label: function() {
            //console.log('this.config.serer------------------------------');
            //console.log('this.config.serer',this.config);
            return this.name || this.server.getIname() |this.iname || "mnodehttp - [no name]";
        }
    });
</script>

<script type="text/html" data-template-name="mnodehttp-instance">
    <div class="form-row">
        <label for="node-input-name">Name</label>
        <input type="text" id="node-input-name">
    </div>
    <div class="form-row">
        <label for="node-input-server">Server settings</label>
        <input type="text" id="node-input-server">
    </div>
    
</script>

<script type="text/html" data-help-name="mnodehttp-instance">
    <p>Wrapper for mnodehttp. It hosts yss. <br>
        - <a href="https://github.com/yOyOeK1/oiyshTerminal/wiki/otdm-yss">Wiki otdm-yss link ...</a><br>
        - <a href="https://github.com/yOyOeK1/oiyshTerminal/wiki/otdm-yss#otdm-family">yss-* (family) ...</a>
    </p>
    <img src="resources/node-red-contrib-mnodehttp/nrc-mnodehttp_64_64.png"><br>
    <br>
    <hr>
If you see that this makes sense [ <a href="https://ko-fi.com/B0B0DFYGS">send me a â˜•</a> ] | 
[Master repository](https://github.com/yOyOeK1/oiyshTerminal) | 
[About SvOiysh](https://www.youtube.com/@svoiysh)


</script>